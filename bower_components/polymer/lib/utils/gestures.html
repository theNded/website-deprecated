<html><head><link rel="import" href="boot.html"><link rel="import" href="async.html"><link rel="import" href="debounce.html"><script>(function(){'use strict';function a(a){let b=r?['click']:n;for(let c,d=0;d<b.length;d++)c=b[d],a?document.addEventListener(c,t,!0):document.removeEventListener(c,t,!0)}function b(a){let b=a.type;if(-1===n.indexOf(b))return!1;if('mousemove'===b){let b=void 0===a.buttons?1:a.buttons;return a instanceof window.MouseEvent&&!p&&(b=o[a.which]||0),!!(1&b)}else{let b=void 0===a.button?0:a.button;return 0===b}}function c(a){if('click'===a.type){if(0===a.detail)return!0;let b=v._findOriginalTarget(a);if(!b.nodeType||b.nodeType!==Node.ELEMENT_NODE)return!0;let c=b.getBoundingClientRect(),d=a.pageX,e=a.pageY;return!(d>=c.left&&d<=c.right&&e>=c.top&&e<=c.bottom)}return!1}function d(a){let b='auto',c=a.composedPath&&a.composedPath();if(c)for(let a,d=0;d<c.length;d++)if(a=c[d],a[k]){b=a[k];break}return b}function f(a,b,c){a.movefn=b,a.upfn=c,document.addEventListener('mousemove',b),document.addEventListener('mouseup',c)}function g(a){document.removeEventListener('mousemove',a.movefn),document.removeEventListener('mouseup',a.upfn),a.movefn=null,a.upfn=null}var h=Math.abs;let e='string'===typeof document.head.style.touchAction,i='__polymerGestures',j='__polymerGesturesHandled',k='__polymerGesturesTouchAction',l=25,m=5,n=['mousedown','mousemove','mouseup','click'],o=[0,1,4,2],p=function(){try{return 1===new MouseEvent('test',{buttons:1}).buttons}catch(a){return!1}}(),q=!1;(function(){try{let a=Object.defineProperty({},'passive',{get:function(){q=!0}});window.addEventListener('test',null,a),window.removeEventListener('test',null,a)}catch(a){}})();let r=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),s=function(){};s.prototype.reset=function(){},s.prototype.mousedown,s.prototype.mousemove,s.prototype.mouseup,s.prototype.touchstart,s.prototype.touchmove,s.prototype.touchend,s.prototype.click;let t=function(a){let b=a.sourceCapabilities;if((!b||b.firesTouchEvents)&&(a[j]={skip:!0},'click'===a.type)){let b=a.composedPath&&a.composedPath();if(b)for(let a=0;a<b.length;a++)if(b[a]===u.mouse.target)return;a.preventDefault(),a.stopPropagation()}},u={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};document.addEventListener('touchend',function(b){u.mouse.mouseIgnoreJob||a(!0);u.mouse.target=b.composedPath()[0],u.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(u.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){a(),u.mouse.target=null,u.mouse.mouseIgnoreJob=null})},!!q&&{passive:!0});const v={gestures:{},recognizers:[],deepTargetFind:function(a,b){let c=document.elementFromPoint(a,b),d=c;for(;d&&d.shadowRoot&&!window.ShadyDOM;){let e=d;if(d=d.shadowRoot.elementFromPoint(a,b),e===d)break;d&&(c=d)}return c},_findOriginalTarget:function(a){return a.composedPath?a.composedPath()[0]:a.target},_handleNative:function(a){let b,c=a.type,d=a.currentTarget,f=d[i];if(f){let d=f[c];if(d){if(!a[j]&&(a[j]={},'touch'===c.slice(0,5))){a=a;let b=a.changedTouches[0];if('touchstart'===c&&1===a.touches.length&&(u.touch.id=b.identifier),u.touch.id!==b.identifier)return;e||'touchstart'!==c&&'touchmove'!==c||v._handleTouchAction(a)}if(b=a[j],!b.skip){let e=v.recognizers;for(let c,f=0;f<e.length;f++)c=e[f],d[c.name]&&!b[c.name]&&c.flow&&-1<c.flow.start.indexOf(a.type)&&c.reset&&c.reset();for(let f,g=0;g<e.length;g++)f=e[g],d[f.name]&&!b[f.name]&&(b[f.name]=!0,f[c](a))}}}},_handleTouchAction:function(a){let b=a.changedTouches[0],c=a.type;if('touchstart'===c)u.touch.x=b.clientX,u.touch.y=b.clientY,u.touch.scrollDecided=!1;else if('touchmove'===c){if(u.touch.scrollDecided)return;u.touch.scrollDecided=!0;let c=d(a),e=!1,f=h(u.touch.x-b.clientX),g=h(u.touch.y-b.clientY);a.cancelable&&('none'===c?e=!0:'pan-x'===c?e=g>f:'pan-y'===c&&(e=f>g)),e?a.preventDefault():v.prevent('track')}},addListener:function(a,b,c){return!!this.gestures[b]&&(this._add(a,b,c),!0)},removeListener:function(a,b,c){return!!this.gestures[b]&&(this._remove(a,b,c),!0)},_add:function(a,b,c){let d=this.gestures[b],e=d.deps,f=d.name,g=a[i];g||(a[i]=g={});for(let d,h,j=0;j<e.length;j++)(d=e[j],!(r&&-1<n.indexOf(d)&&'click'!==d))&&(h=g[d],h||(g[d]=h={_count:0}),0===h._count&&a.addEventListener(d,this._handleNative),h[f]=(h[f]||0)+1,h._count=(h._count||0)+1);a.addEventListener(b,c),d.touchAction&&this.setTouchAction(a,d.touchAction)},_remove:function(a,b,c){let d=this.gestures[b],e=d.deps,f=d.name,g=a[i];if(g)for(let b,c,d=0;d<e.length;d++)b=e[d],c=g[b],c&&c[f]&&(c[f]=(c[f]||1)-1,c._count=(c._count||1)-1,0===c._count&&a.removeEventListener(b,this._handleNative));a.removeEventListener(b,c)},register:function(a){this.recognizers.push(a);for(let b=0;b<a.emits.length;b++)this.gestures[a.emits[b]]=a},_findRecognizerByEvent:function(a){for(let b,c=0;c<this.recognizers.length;c++){b=this.recognizers[c];for(let c,d=0;d<b.emits.length;d++)if(c=b.emits[d],c===a)return b}return null},setTouchAction:function(a,b){e&&(a.style.touchAction=b),a[k]=b},_fire:function(a,b,c){let d=new Event(b,{bubbles:!0,cancelable:!0,composed:!0});if(d.detail=c,a.dispatchEvent(d),d.defaultPrevented){let a=c.preventer||c.sourceEvent;a&&a.preventDefault&&a.preventDefault()}},prevent:function(a){let b=this._findRecognizerByEvent(a);b.info&&(b.info.prevent=!0)},resetMouseCanceller:function(){u.mouse.mouseIgnoreJob&&u.mouse.mouseIgnoreJob.flush()}};v.register({name:'downup',deps:['mousedown','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['down','up'],info:{movefn:null,upfn:null},reset:function(){g(this.info)},mousedown:function(a){if(!b(a))return;let c=v._findOriginalTarget(a),d=this;f(this.info,function(a){b(a)||(d._fire('up',c,a),g(d.info))},function(a){b(a)&&d._fire('up',c,a),g(d.info)}),this._fire('down',c,a)},touchstart:function(a){this._fire('down',v._findOriginalTarget(a),a.changedTouches[0],a)},touchend:function(a){this._fire('up',v._findOriginalTarget(a),a.changedTouches[0],a)},_fire:function(a,b,c,d){v._fire(b,a,{x:c.clientX,y:c.clientY,sourceEvent:c,preventer:d,prevent:function(a){return v.prevent(a)}})}}),v.register({name:'track',touchAction:'none',deps:['mousedown','touchstart','touchmove','touchend'],flow:{start:['mousedown','touchstart'],end:['mouseup','touchend']},emits:['track'],info:{x:0,y:0,state:'start',started:!1,moves:[],addMove:function(a){this.moves.length>2&&this.moves.shift(),this.moves.push(a)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state='start',this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,g(this.info)},hasMovedEnough:function(a,b){if(this.info.prevent)return!1;if(this.info.started)return!0;let c=h(this.info.x-a),d=h(this.info.y-b);return c>=m||d>=m},mousedown:function(a){if(!b(a))return;let c=v._findOriginalTarget(a),d=this,h=function(a){let e=a.clientX,f=a.clientY;d.hasMovedEnough(e,f)&&(d.info.state=d.info.started?'mouseup'===a.type?'end':'track':'start','start'===d.info.state&&v.prevent('tap'),d.info.addMove({x:e,y:f}),!b(a)&&(d.info.state='end',g(d.info)),d._fire(c,a),d.info.started=!0)};f(this.info,h,function(a){d.info.started&&h(a),g(d.info)}),this.info.x=a.clientX,this.info.y=a.clientY},touchstart:function(a){let b=a.changedTouches[0];this.info.x=b.clientX,this.info.y=b.clientY},touchmove:function(a){let b=v._findOriginalTarget(a),c=a.changedTouches[0],d=c.clientX,e=c.clientY;this.hasMovedEnough(d,e)&&('start'===this.info.state&&v.prevent('tap'),this.info.addMove({x:d,y:e}),this._fire(b,c),this.info.state='track',this.info.started=!0)},touchend:function(a){let b=v._findOriginalTarget(a),c=a.changedTouches[0];this.info.started&&(this.info.state='end',this.info.addMove({x:c.clientX,y:c.clientY}),this._fire(b,c,a))},_fire:function(a,b){let c,d=this.info.moves[this.info.moves.length-2],e=this.info.moves[this.info.moves.length-1],f=e.x-this.info.x,g=e.y-this.info.y,h=0;d&&(c=e.x-d.x,h=e.y-d.y),v._fire(a,'track',{state:this.info.state,x:b.clientX,y:b.clientY,dx:f,dy:g,ddx:c,ddy:h,sourceEvent:b,hover:function(){return v.deepTargetFind(b.clientX,b.clientY)}})}}),v.register({name:'tap',deps:['mousedown','click','touchstart','touchend'],flow:{start:['mousedown','touchstart'],end:['click','touchend']},emits:['tap'],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(a){this.info.x=a.clientX,this.info.y=a.clientY},mousedown:function(a){b(a)&&this.save(a)},click:function(a){b(a)&&this.forward(a)},touchstart:function(a){this.save(a.changedTouches[0],a)},touchend:function(a){this.forward(a.changedTouches[0],a)},forward:function(a,b){let d=h(a.clientX-this.info.x),f=h(a.clientY-this.info.y),g=v._findOriginalTarget(a);(isNaN(d)||isNaN(f)||d<=l&&f<=l||c(a))&&!this.info.prevent&&v._fire(g,'tap',{x:a.clientX,y:a.clientY,sourceEvent:a,preventer:b})}}),v.findOriginalTarget=v._findOriginalTarget,v.add=v.addListener,v.remove=v.removeListener,Polymer.Gestures=v})();</script></head><body></body></html>